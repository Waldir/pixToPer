"use strict";var $boxElement=$("#myBox__element"),$boxContainer=$("#myBox__container"),$outputCode=$("#outputCode pre code, #hiddenTextarea"),$copyBtn=$("#copyToClipBtn"),$cookieBtn=$("#cookieBtn"),$elemWidth=$("#input-el-w"),$elemTop=$("#input-el-t"),$elemLeft=$("#input-el-l"),$elemHeight=$("#input-el-h"),$contWidth=$("#input-cont-w"),$contHeight=$("#input-cont-h"),$incWidth=$("#inc-w"),$incHeight=$("#inc-h"),$incTop=$("#inc-t"),$incLeft=$("#inc-l"),$incRight=$("#inc-r"),$incBottom=$("#inc-b"),$incDec=$("#inc-d");function addLog(strName,objValue,error){var newStrName=error?"*** ERROR *** "+strName:" "+strName;objValue?console.log((new Date).toLocaleTimeString()+newStrName,objValue):console.log((new Date).toLocaleTimeString()+newStrName)}function setCookie(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=name+"="+(value||"")+expires+"; path=/"}function getCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function eraseCookie(name){setCookie(name,"",-1)}function decimalPlace(num,places){return num.toFixed(places).replace(/\.0+$/,"")}function copyToClip(){var toCopy=$("#codeToCopy").text(),$temp=$("<textarea/>",{id:"tempInput"});return $("body").append($temp),$("#tempInput").val(toCopy).select(),document.execCommand("copy"),$("#tempInput").remove(),!1}function getRandFromArr(arr){return arr[Math.floor(Math.random()*arr.length)]}function init(){var cookie=getCookie("pTpPref");cookie?(cookie=cookie.split(","),$incWidth.prop("checked","true"===cookie[0]),$incHeight.prop("checked","true"===cookie[1]),$incTop.prop("checked","true"===cookie[2]),$incLeft.prop("checked","true"===cookie[3]),$incRight.prop("checked","true"===cookie[4]),$incBottom.prop("checked","true"===cookie[5]),$incDec.val(cookie[6]),$contWidth.val(cookie[7]),$contHeight.val(cookie[8])):$cookieBtn.hide();var inputItems=["#input-cont-w","#input-cont-h","#input-el-w","#input-el-h","#input-el-t","#input-el-l","#inc-w","#inc-h","#inc-t","#inc-l","#inc-r","#inc-b","#inc-d"];$elemWidth.on("paste",function fn(e){var pasted=e.originalEvent.clipboardData.getData("text");return pasted=(pasted=(pasted=pasted.trim()).replace(/\s/g,"")).split(","),$elemTop.val(pasted[0]),$elemLeft.val(pasted[1]),$elemWidth.val(pasted[2]),$elemHeight.val(pasted[3]).trigger("input"),!1}),$("#rotateCont").on("click",function fn(){var input1=$contWidth.val(),input2=$contHeight.val();$contWidth.val(input2),$contHeight.val(input1).trigger("input")}),$(inputItems.join(",")).on("input",function fn(){var iW=$incWidth.prop("checked"),iH=$incHeight.prop("checked"),iT=$incTop.prop("checked"),iL=$incLeft.prop("checked"),iR=$incRight.prop("checked"),iB=$incBottom.prop("checked"),iD=$incDec.val(),cW=$contWidth.val(),cH=$contHeight.val(),aRatio=cH/cW*100+"%",eW=$elemWidth.val(),eH=$elemHeight.val(),eT=$elemTop.val(),eL=$elemLeft.val(),eR,eB,pixToPer={w:eW/cW*100,h:eH/cH*100,t:eT/cH*100,b:(cH-eT-eH)/cH*100,l:eL/cW*100,r:(cW-eL-eW)/cW*100},output="";output+="#container{\n",output+="  position: relative;\n",output+="  width: "+cW+"px;\n",output+="  height: "+cH+"px;\n",output+="}\n\n",output+="#element{\n",output+="  position: absolute;\n",output+=iW?"  width: "+decimalPlace(pixToPer.w,iD)+"%;\n":"",output+=iH?"  height: "+decimalPlace(pixToPer.h,iD)+"%;\n":"",output+=iT?"  top: "+decimalPlace(pixToPer.t,iD)+"%;\n":"",output+=iL?"  left: "+decimalPlace(pixToPer.l,iD)+"%;\n":"",output+=iR?"  right: "+decimalPlace(pixToPer.r,iD)+"%;\n":"",output+=iB?"  bottom: "+decimalPlace(pixToPer.b,iD)+"%;\n":"",output+="}";var jqueryGo=function fn(){$boxElement.css({width:iW?decimalPlace(pixToPer.w,iD)+"%":"",height:iH?decimalPlace(pixToPer.h,iD)+"%":"",top:iT?decimalPlace(pixToPer.t,iD)+"%":"",left:iL?decimalPlace(pixToPer.l,iD)+"%":"",right:iR?decimalPlace(pixToPer.r,iD)+"%":"",bottom:iB?decimalPlace(pixToPer.b,iD)+"%":""}),$boxContainer.css("padding-top",aRatio)};setCookie("pTpPref",[iW,iH,iT,iL,iR,iB,iD,cW,cH],10),$outputCode.html(output),addLog("Output"),setTimeout(jqueryGo,900),$copyBtn.hasClass("on")||$copyBtn.addClass("on")}),$copyBtn.on("click",function fn(){copyToClip(),$(this).coin("coin",getRandFromArr(["Its Yours!","Thank you!","Have it!","Ka-ching!","Boom!"]),"65px")}),$cookieBtn.on("click",function fn(){eraseCookie("pTpPref"),$(this).coin("coin",["Cookies gone!"],"65px")}),$elemHeight.trigger("input"),$("#infoBtn").on("click",function fn(){$(".modal").css("display","block"),$("body").css("overflow","hidden"),setTimeout(function fn(){$(".modal, .modal__dialog").addClass("on")},300)}),$(".modal, .closeBtn").on("click",function fn(e){e.target===this&&($(".modal__dialog").removeClass("on"),$("body").css("overflow",""),setTimeout(function fn(){$(".modal").removeClass("on")},300),setTimeout(function fn(){$(".modal").css("display","none")},600))})}$(document).ready(init);